type User {
	id: ID! @id
	name: String!
	email: String! @unique
	password: String!
	club: Club @relation(name: "Club_Users")
	race_admin: [Race!] @relation(name: "Race_Admin")
	races: [Race!] @relation(name: "Race_Attendees")
	permissions: [Permission!]! @scalarList(strategy: RELATION)
	createdAt: DateTime! @createdAt
	updatedAt: DateTime! @updatedAt
}

type Club {
	id: ID! @id
	name: String!
	email: String!
	address: String
	users: [User!]! @relation(name: "Club_Users")
}

type Activity {
	id: ID! @id
	ActivityType: ActivityType!
	title: String!
	date: DateTime
	user: User! @relation
	distance: Float!
	distance_unit: Unit!
	duration: Float!
	elevation: Float
	elevation_unit: Unit
	createdAt: DateTime! @createdAt
	updatedAt: DateTime! @updatedAt
}

type Race {
	id: ID! @id
	ActivityType: ActivityType!
	title: String!
	event_date: DateTime
	admin: User! @relation(name: "Race_Admin")
	competitors: [User!]! @relation(name: "Race_Attendees")
	race_times: [RaceTime!]! @relation
}

type RaceTime {
	id: ID! @id
	race: Race! @unique
	user: User! @unique
	duration: Int
}

enum Permission {
	ADMIN
	CLUB_ADMIN
	USER
	FRIEND
	RACE_ADMIN
}

enum ActivityType {
	CYCLING
	RUNNING
}

enum Unit {
	MILES
	KM
	FEET
	METERS
}
